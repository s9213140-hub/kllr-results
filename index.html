<!DOCTYPE html>
<html lang="ml">
<head>
  <meta charset="UTF-8">
  <title>Kerala Lottery Result</title>
</head>
<body>

  <h1>Kerala Lottery Result</h1>

 <label>Draw Date</label><br>
<input id="date" placeholder="YYYY-MM-DD"><br><br>

<label>Last 4 Digits</label><br>
<input id="last4" maxlength="4" placeholder="Eg: 7880"><br><br>

<button onclick="checkResult()">Check Result</button>

<p id="result"></p>
  

</body>
<script>
async function checkResult() {
  const date = document.getElementById("date").value;
  const last4 = document.getElementById("last4").value;
  const resultEl = document.getElementById("result");

  resultEl.innerText = "Checking result...";

  try {
    const response = await fetch(./data/${date}.json);

    if (!response.ok) {
      throw new Error("Result file not found");
    }

    const data = await response.json();

    if (data.firstPrize.last4 === last4) {
      resultEl.innerText = "üéâ ‡¥ö‡µÜ‡¥±‡µÅ‡¥§‡µç ‡¥í‡¥®‡µç‡¥®‡µÅ ‡¥Ö‡¥ü‡¥ø‡¥ö‡µç‡¥ö‡µÅ!";
    } 
    else if (data.prizesLast4[last4]) {
      resultEl.innerText =
        Prize won: ${data.prizesLast4[last4].prize} ‚Äì ‚Çπ${data.prizesLast4[last4].amount};
    } 
    else {
      resultEl.innerText = "Sawari girigiri üòå No prize";
    }

  } catch (err) {
    resultEl.innerText = "‚ùå Result not available for this date";
  }
}
</script>
</html>
