<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kerala Lottery Result</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f6c453;
      padding: 30px;
    }
    input, button {
      padding: 8px;
      margin: 6px 0;
      font-size: 16px;
    }
    #result {
      margin-top: 15px;
      font-weight: bold;
      font-size: 18px;
    }
  </style>
</head>
<body>

  <h1>Kerala Lottery Result</h1>

  <label>Draw Date</label><br>
  <input id="date" placeholder="YYYY-MM-DD"><br><br>

  <label>Last 4 Digits</label><br>
  <input id="last4" maxlength="4" placeholder="Eg: 7880"><br><br>

  <button onclick="checkResult()">Check Result</button>

  <div id="result"></div>

 <script>
async function checkResult() {
  const date = document.getElementById("date").value.trim();
  const last4 = document.getElementById("last4").value.trim();
  const resultBox = document.getElementById("result");

  if (!date || !last4) {
    resultBox.innerText = "Please enter both date and last 4 digits.";
    return;
  }

  const url = https://raw.githubusercontent.com/s9213140-hub/klr-results/main/data/${date}.json;

  try {
    const response = await fetch(url);
    if (!response.ok) throw new Error("No data");

    const data = await response.json();

    // FIRST PRIZE CHECK
    if (data.firstPrize.last4 === last4) {
      resultBox.innerText = "üéâ ‡¥í‡¥®‡µç‡¥®‡¥æ‡¥Ç ‡¥∏‡¥Æ‡µç‡¥Æ‡¥æ‡¥®‡¥Ç ‡¥Ö‡¥ü‡¥ø‡¥ö‡µç‡¥ö‡µÅ!";
      return;
    }

    // OTHER PRIZES
    if (data.prizesLast4[last4]) {
      resultBox.innerText =
        üéâ ${data.prizesLast4[last4].prize} ‚Äì ‚Çπ${data.prizesLast4[last4].amount};
      return;
    }

    resultBox.innerText = "‚ùå Sorry, no prize.";

  } catch (err) {
    resultBox.innerText = "Result not found for this date.";
  }
}
</script>
</body>
</html>
