<!DOCTYPE html>
<html lang="ml">
<head>
  <meta charset="UTF-8">
  <title>Kerala Lottery Result</title>
</head>
<body>

  <h1>Kerala Lottery Result</h1>

  <label>Draw Date</label><br>
<input id="date" placeholder="DD/MM/YYYY"><br><br>

  <label>Last 4 Digits</label><br>
 <input id="last4" maxlength="4" placeholder="eg: 7880"><br><br>

  <button onclick="checkResult()">Check Result</button>
  <p id="result"></p>
  

</body>
<script>
async function checkResult() {
  const date = document.getElementById("date").value;
  const last4 = document.getElementById("last4").value;
  const resultDiv = document.getElementById("result");

  if (!date || !last4) {
    resultDiv.innerText = "Date‡¥Ø‡µÅ‡¥Ç ‡¥®‡¥Æ‡µç‡¥™‡¥±‡µÅ‡¥Ç ‡¥ï‡µä‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡¥£‡¥Ç";
    return;
  }

  resultDiv.innerText = "Checking result...";

  try {
    const url = https://raw.githubusercontent.com/s9213140-hub/klr-results/main/data/${date}.json;
    const res = await fetch(url);

    if (!res.ok) {
      resultDiv.innerText = "Result ‡¥ï‡¥ø‡¥ü‡µç‡¥ü‡¥ø‡¥Ø‡¥ø‡¥≤‡µç‡¥≤";
      return;
    }

    const data = await res.json();

    // First prize check (last 4)
    if (data.firstPrize.last4 === last4) {
      resultDiv.innerText = "‡¥®‡¥Æ‡µç‡¥™‡µº ‡¥í‡¥®‡µç‡¥®‡µç ‡¥Ö‡¥ü‡¥ø‡¥ö‡µç‡¥ö‡µÅ üî•";
      return;
    }

    // Other prizes
    if (data.prizesLast4[last4]) {
      const prize = data.prizesLast4[last4];
      resultDiv.innerText = Prize: ${prize.prize} | Amount: ${prize.amount};
      return;
    }

    resultDiv.innerText = "‡¥∏‡¥µ‡¥æ‡¥∞‡¥ø ‡¥ó‡¥ø‡¥∞‡¥ø‡¥ó‡¥ø‡¥∞‡¥ø üòå";
  } catch (e) {
    resultDiv.innerText = "Error ‡¥â‡¥£‡µç‡¥ü‡¥æ‡¥Ø‡¥ø";
  }
}
</script>
</html>
