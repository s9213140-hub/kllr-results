<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kerala Lottery Result</title>
  <style>
    body {
      background: black;
      color: orange;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    input, button {
      padding: 10px;
      margin-top: 10px;
      width: 220px;
      font-size: 16px;
    }
    #result {
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h1>Kerala Lottery Result</h1>

  <input id="date" placeholder="YYYY-MM-DD"><br>
  <input id="last4" placeholder="Last 4 digits"><br>
  <button id="checkBtn">Check Result</button>

  <div id="result">‚¨ÜÔ∏è Enter details and check</div>

  <script>
    document.getElementById("checkBtn").addEventListener("click", async () => {
      const date = document.getElementById("date").value.trim();
      const last4 = document.getElementById("last4").value.trim();
      const resultBox = document.getElementById("result");

      if (!date || !last4) {
        resultBox.innerText = "Date‡¥Ø‡µÅ‡¥Ç ‡¥®‡¥Æ‡µç‡¥™‡¥±‡µÅ‡¥Ç ‡¥ï‡µä‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡¥£‡¥Ç";
        return;
      }

      resultBox.innerText = "Checking result...";

      try {
        const res = await fetch(data/${date}.json);
        if (!res.ok) throw new Error("No file");

        const data = await res.json();

        if (data.firstPrize.last4 === last4) {
          resultBox.innerText = "üî• ‡¥Ö‡¥ü‡¥ø‡¥ö‡µç‡¥ö‡µÅ ‡¥Æ‡µã‡¥®‡µÜ! ‡¥í‡¥®‡µç‡¥®‡¥æ‡¥Ç ‡¥∏‡¥Æ‡µç‡¥Æ‡¥æ‡¥®‡¥Ç!";
          return;
        }

        if (data.prizesLast4[last4]) {
          const p = data.prizesLast4[last4];
          resultBox.innerText = üéâ ${p.prize} ‚Äì ‚Çπ${p.amount};
          return;
        }

        resultBox.innerText = "üòå ‡¥∏‡¥µ‡¥æ‡¥∞‡¥ø ‡¥ó‡¥ø‡¥∞‡¥ø‡¥ó‡¥ø‡¥∞‡¥ø";

      } catch {
        resultBox.innerText = "‚ùå Result ‡¥≤‡¥≠‡µç‡¥Ø‡¥Æ‡¥≤‡µç‡¥≤";
      }
    });
  </script>

</body>
</html>
